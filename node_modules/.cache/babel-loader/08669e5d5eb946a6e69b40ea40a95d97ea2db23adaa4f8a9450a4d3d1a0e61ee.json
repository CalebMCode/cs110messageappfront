{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bubba\\\\WebstormProjects\\\\110finalproject\\\\front\\\\src\\\\Screens\\\\Auth.js\";\nimport React from \"react\";\nimport Form from \"../Components/form.js\";\nconst qrcode = require('qrcode');\nimport { Button, Grid, Link, Snackbar, Typography, CircularProgress } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  height: \"100vh\"\n};\nclass Auth extends React.Component {\n  constructor(props) {\n    super(props);\n    this.closeForm = () => {\n      this.setState({\n        showForm: false\n      });\n    };\n    this.toggleForm = () => {\n      const newForm = this.state.selectedForm === \"login\" ? \"register\" : \"login\";\n      this.setState({\n        selectedForm: newForm\n      });\n    };\n    this.login = data => {\n      console.log(data);\n      this.setState({\n        loading: true\n      }); // Set loading state\n\n      fetch(this.props.server_url + \"/api/auth/login\", {\n        method: \"POST\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(res => res.json()).then(data => {\n        if (data.msg === \"Logged in\") {\n          this.props.changeScreen(\"lobby\");\n          this.handleSnackbarOpen(\"Logged in successfully!\", \"success\");\n        } else {\n          this.handleSnackbarOpen(data.msg, \"error\");\n        }\n      }).catch(() => {\n        this.handleSnackbarOpen(\"Network error!\", \"error\");\n      }).finally(() => {\n        this.setState({\n          loading: false\n        }); // Reset loading state\n      });\n    };\n    this.register = data => {\n      console.log(data);\n      this.setState({\n        loading: true\n      }); // Set loading state\n\n      fetch(this.props.server_url + \"/api/auth/signup\", {\n        method: \"POST\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(res => res.clone().json()).then(data => {\n        this.handleSnackbarOpen(\"Registered successfully!\", \"success\");\n        qrcode.toDataURL(data.otpauth_url, function (err, data) {\n          console.log(data);\n          document.getElementById(\"forQRcode\").innerHTML = 'Use this QR code for 2FA <img src=\"' + data + '\" alt=\"QR code\"/>';\n        });\n      }).catch(() => {\n        this.handleSnackbarOpen(\"Network error!\", \"error\");\n      }).finally(() => {\n        this.setState({\n          loading: false\n        }); // Reset loading state\n      });\n    };\n    this.handleSnackbarOpen = (message, severity) => {\n      this.setState({\n        open: true,\n        message,\n        severity\n      });\n    };\n    this.handleSnackbarClose = () => {\n      this.setState({\n        open: false,\n        message: \"\"\n      });\n    };\n    this.state = {\n      showForm: false,\n      selectedForm: undefined,\n      open: false,\n      message: \"\",\n      severity: \"success\",\n      loading: false\n    };\n  }\n  render() {\n    const {\n      showForm,\n      selectedForm,\n      open,\n      message,\n      severity,\n      loading\n    } = this.state;\n    let display = null;\n    if (showForm) {\n      let fields = [];\n      if (selectedForm === \"login\") {\n        fields = [\"username\", \"password\", \"OneTimePassword\"];\n        display = /*#__PURE__*/_jsxDEV(Form, {\n          fields: fields,\n          close: this.closeForm,\n          type: \"login\",\n          submit: this.login\n        }, selectedForm, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this);\n      } else if (selectedForm === \"register\") {\n        fields = [\"username\", \"password\", \"name\"];\n        display = /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            fields: fields,\n            close: this.closeForm,\n            type: \"register\",\n            submit: this.register\n          }, selectedForm, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"forQRcode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this);\n      }\n    } else {\n      display = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => this.setState({\n            showForm: true,\n            selectedForm: \"login\"\n          }),\n          variant: \"contained\",\n          size: \"large\",\n          sx: {\n            marginRight: 2\n          },\n          disabled: loading // Disable button when loading\n          ,\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 24\n          }, this) : \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => this.setState({\n            showForm: true,\n            selectedForm: \"register\"\n          }),\n          variant: \"outlined\",\n          size: \"large\",\n          disabled: loading // Disable button when loading\n          ,\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 24\n          }, this) : \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: containerStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome\",\n        children: [open && /*#__PURE__*/_jsxDEV(Snackbar, {\n          open: open,\n          autoHideDuration: 6000,\n          onClose: this.handleSnackbarClose,\n          anchorOrigin: {\n            vertical: \"top\",\n            horizontal: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            onClose: this.handleSnackbarClose,\n            severity: severity,\n            sx: {\n              width: \"100%\"\n            },\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            mb: 20\n          }\n          // anchorOrigin={{ vertical: \"top\" }}\n          ,\n          variant: \"h4\",\n          component: \"h1\",\n          align: \"center\",\n          gutterBottom: true,\n          children: \"Messenger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), display, showForm && /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          mt: 2,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: true,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"#\",\n              variant: \"body2\",\n              onClick: this.toggleForm,\n              sx: {\n                textDecoration: \"underline\",\n                cursor: \"pointer\"\n              },\n              children: selectedForm === \"login\" ? \"Don't have an account? Sign Up\" : \"Already have an account? Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Auth;","map":{"version":3,"names":["React","Form","qrcode","require","Button","Grid","Link","Snackbar","Typography","CircularProgress","jsxDEV","_jsxDEV","containerStyle","display","justifyContent","alignItems","height","Auth","Component","constructor","props","closeForm","setState","showForm","toggleForm","newForm","state","selectedForm","login","data","console","log","loading","fetch","server_url","method","mode","credentials","headers","Accept","body","JSON","stringify","then","res","json","msg","changeScreen","handleSnackbarOpen","catch","finally","register","clone","toDataURL","otpauth_url","err","document","getElementById","innerHTML","message","severity","open","handleSnackbarClose","undefined","render","fields","close","type","submit","fileName","_jsxFileName","lineNumber","columnNumber","children","id","onClick","variant","size","sx","marginRight","disabled","style","className","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","width","mb","component","align","gutterBottom","container","mt","item","xs","href","textDecoration","cursor"],"sources":["C:/Users/bubba/WebstormProjects/110finalproject/front/src/Screens/Auth.js"],"sourcesContent":["import React from \"react\";\r\nimport Form from \"../Components/form.js\";\r\nconst qrcode = require('qrcode');\r\nimport {\r\n  Button,\r\n  Grid,\r\n  Link,\r\n  Snackbar,\r\n  Typography,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\n\r\n\r\nconst containerStyle = {\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  height: \"100vh\",\r\n};\r\n\r\nclass Auth extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showForm: false,\r\n      selectedForm: undefined,\r\n      open: false,\r\n      message: \"\",\r\n      severity: \"success\",\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  closeForm = () => {\r\n    this.setState({ showForm: false });\r\n  };\r\n\r\n  toggleForm = () => {\r\n    const newForm = this.state.selectedForm === \"login\" ? \"register\" : \"login\";\r\n    this.setState({ selectedForm: newForm });\r\n  };\r\n\r\n  login = (data) => {\r\n    console.log(data);\r\n    this.setState({ loading: true }); // Set loading state\r\n\r\n    fetch(this.props.server_url + \"/api/auth/login\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.msg === \"Logged in\") {\r\n          this.props.changeScreen(\"lobby\");\r\n          this.handleSnackbarOpen(\"Logged in successfully!\", \"success\");\r\n        } else {\r\n          this.handleSnackbarOpen(data.msg, \"error\");\r\n        }\r\n      })\r\n      .catch(() => {\r\n        this.handleSnackbarOpen(\"Network error!\", \"error\");\r\n      })\r\n      .finally(() => {\r\n        this.setState({ loading: false }); // Reset loading state\r\n      });\r\n  };\r\n\r\n  register = (data) => {\r\n    console.log(data);\r\n    this.setState({ loading: true }); // Set loading state\r\n\r\n    fetch(this.props.server_url + \"/api/auth/signup\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((res) => res.clone().json())\r\n      .then((data) => {\r\n        this.handleSnackbarOpen(\"Registered successfully!\", \"success\");\r\n          qrcode.toDataURL(data.otpauth_url, function(err,data){\r\n              console.log(data);\r\n              document.getElementById(\"forQRcode\").innerHTML = 'Use this QR code for 2FA <img src=\"' + data + '\" alt=\"QR code\"/>';\r\n          })      })\r\n      .catch(() => {\r\n        this.handleSnackbarOpen(\"Network error!\", \"error\");\r\n      })\r\n      .finally(() => {\r\n        this.setState({ loading: false }); // Reset loading state\r\n      });\r\n  };\r\n\r\n  handleSnackbarOpen = (message, severity) => {\r\n    this.setState({\r\n      open: true,\r\n      message,\r\n      severity,\r\n    });\r\n  };\r\n\r\n  handleSnackbarClose = () => {\r\n    this.setState({\r\n      open: false,\r\n      message: \"\",\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n    const { showForm, selectedForm, open, message, severity, loading } =\r\n      this.state;\r\n\r\n    let display = null;\r\n    if (showForm) {\r\n      let fields = [];\r\n      if (selectedForm === \"login\") {\r\n        fields = [\"username\", \"password\",\"OneTimePassword\"];\r\n        display = (\r\n          <Form\r\n            fields={fields}\r\n            close={this.closeForm}\r\n            type=\"login\"\r\n            submit={this.login}\r\n            key={selectedForm}\r\n          />\r\n        );\r\n      } else if (selectedForm === \"register\") {\r\n        fields = [\"username\", \"password\", \"name\"];\r\n        display = (\r\n            <div>\r\n          <Form\r\n            fields={fields}\r\n            close={this.closeForm}\r\n            type=\"register\"\r\n            submit={this.register}\r\n            key={selectedForm}\r\n          />\r\n          <div id=\"forQRcode\"/>\r\n        </div>\r\n      );\r\n      }\r\n    } else {\r\n      display = (\r\n        <div>\r\n          <Button\r\n            onClick={() =>\r\n              this.setState({ showForm: true, selectedForm: \"login\" })\r\n            }\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            sx={{ marginRight: 2 }}\r\n            disabled={loading} // Disable button when loading\r\n          >\r\n            {loading ? <CircularProgress size={24} /> : \"Login\"}\r\n          </Button>\r\n          <Button\r\n            onClick={() =>\r\n              this.setState({ showForm: true, selectedForm: \"register\" })\r\n            }\r\n            variant=\"outlined\"\r\n            size=\"large\"\r\n            disabled={loading} // Disable button when loading\r\n          >\r\n            {loading ? <CircularProgress size={24} /> : \"Register\"}\r\n          </Button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div style={containerStyle}>\r\n        <div className=\"welcome\">\r\n          {open && (\r\n            <Snackbar\r\n              open={open}\r\n              autoHideDuration={6000}\r\n              onClose={this.handleSnackbarClose}\r\n              anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n            >\r\n              <Alert\r\n                onClose={this.handleSnackbarClose}\r\n                severity={severity}\r\n                sx={{ width: \"100%\" }}\r\n              >\r\n                {message}\r\n              </Alert>\r\n            </Snackbar>\r\n          )}\r\n          <Typography\r\n            sx={{ mb: 20 }}\r\n            // anchorOrigin={{ vertical: \"top\" }}\r\n            variant=\"h4\"\r\n            component=\"h1\"\r\n            align=\"center\"\r\n            gutterBottom\r\n          >\r\n            Messenger\r\n          </Typography>\r\n          {display}\r\n          {showForm && (\r\n            <Grid container mt={2}>\r\n              <Grid item xs>\r\n                <Link\r\n                  href=\"#\"\r\n                  variant=\"body2\"\r\n                  onClick={this.toggleForm}\r\n                  sx={{ textDecoration: \"underline\", cursor: \"pointer\" }}\r\n                >\r\n                  {selectedForm === \"login\"\r\n                    ? \"Don't have an account? Sign Up\"\r\n                    : \"Already have an account? Sign In\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Auth;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}