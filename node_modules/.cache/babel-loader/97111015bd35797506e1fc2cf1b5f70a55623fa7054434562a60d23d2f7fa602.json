{"ast":null,"code":"import _classCallCheck from\"C:/Users/bubba/WebstormProjects/110finalproject/front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/bubba/WebstormProjects/110finalproject/front/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/bubba/WebstormProjects/110finalproject/front/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/bubba/WebstormProjects/110finalproject/front/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import react from\"react\";import Auth from'./Screens/Auth.js';import Lobby from\"./Screens/Lobby.js\";import Chatroom from\"./Screens/Chatroom.js\";import{jsx as _jsx}from\"react/jsx-runtime\";var server_url=\"http://localhost:3001\";var ScreenHandler=/*#__PURE__*/function(_react$Component){_inherits(ScreenHandler,_react$Component);var _super=_createSuper(ScreenHandler);function ScreenHandler(props){var _this;_classCallCheck(this,ScreenHandler);_this=_super.call(this,props);_this.changeScreen=function(screen){_this.setState({screen:screen});};// changeUser = (username) => {\n//     this.setState({username: username});\n// }\n_this.changeRoom=function(room){_this.setState({room:room});};_this.state={screen:undefined,// username: undefined,\nroom:undefined};return _this;}_createClass(ScreenHandler,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// checking if the user has active session\n// if yes, then show lobby. if no, then show auth\nfetch(server_url,{method:\"GET\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){res.json().then(function(data){if(data.message===\"logged in\"){_this2.setState({screen:\"lobby\"});}else{_this2.setState({screen:\"auth\"});}});});}},{key:\"render\",value:function render(){var display=\"loading...\";if(this.state.screen===\"auth\"){display=/*#__PURE__*/_jsx(Auth,{server_url:server_url,changeScreen:this.changeScreen/*changeUser={this.changeUser}*/});}else if(this.state.screen===\"lobby\"){display=/*#__PURE__*/_jsx(Lobby,{server_url:server_url,changeScreen:this.changeScreen,changeRoom:this.changeRoom/*changeUser={this.changeUser} */});}else if(this.state.screen===\"chatroom\"){display=/*#__PURE__*/_jsx(Chatroom,{server_url:server_url,changeScreen:this.changeScreen,changeRoom:this.changeRoom/*username={this.state.username}*/,room:this.state.room});}return/*#__PURE__*/_jsx(\"div\",{children:display});}}]);return ScreenHandler;}(react.Component);export default ScreenHandler;","map":{"version":3,"names":["react","Auth","Lobby","Chatroom","jsx","_jsx","server_url","ScreenHandler","_react$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","changeScreen","screen","setState","changeRoom","room","state","undefined","_createClass","key","value","componentDidMount","_this2","fetch","method","credentials","headers","then","res","json","data","message","render","display","children","Component"],"sources":["C:/Users/bubba/WebstormProjects/110finalproject/front/src/ScreenHandler.js"],"sourcesContent":["import react from \"react\";\r\nimport Auth from './Screens/Auth.js';\r\nimport Lobby from \"./Screens/Lobby.js\";\r\nimport Chatroom from \"./Screens/Chatroom.js\";\r\n\r\nconst server_url = \"http://localhost:3001\";\r\n\r\n\r\nclass ScreenHandler extends react.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            screen: undefined,\r\n            // username: undefined,\r\n            room: undefined,\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        // checking if the user has active session\r\n        // if yes, then show lobby. if no, then show auth\r\n        fetch(server_url, {\r\n            method: \"GET\",\r\n            credentials: \"include\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            }\r\n        }).then((res) => {\r\n            res.json().then((data) => {\r\n                if (data.message === \"logged in\"){\r\n                    this.setState({screen: \"lobby\"});\r\n                }\r\n                else{\r\n                    this.setState({screen: \"auth\"});\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    changeScreen = (screen) => {\r\n        this.setState({screen: screen});\r\n    }\r\n\r\n    // changeUser = (username) => {\r\n    //     this.setState({username: username});\r\n    // }\r\n\r\n    changeRoom = (room) => {\r\n        this.setState({room: room});\r\n    }\r\n\r\n    render(){\r\n        let display = \"loading...\";\r\n        if (this.state.screen === \"auth\"){\r\n            display = <Auth server_url = {server_url} changeScreen={this.changeScreen} /*changeUser={this.changeUser}*/ />;\r\n        }\r\n        else if (this.state.screen === \"lobby\"){\r\n            display = <Lobby server_url = {server_url} changeScreen={this.changeScreen} changeRoom={this.changeRoom} /*changeUser={this.changeUser} */ />;\r\n        }\r\n        else if (this.state.screen === \"chatroom\"){\r\n            display = <Chatroom server_url = {server_url} changeScreen={this.changeScreen} changeRoom={this.changeRoom} /*username={this.state.username}*/ room={this.state.room} />;\r\n        }\r\n        return(\r\n            <div>\r\n                {display}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ScreenHandler;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}